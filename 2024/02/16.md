#### 2024.02.16 | Javascript - Execution Context

실행 컨텍스트(Execution Context)는 실행한 코드에 제공할 환경 정보를 담은 객체로, Javascript 엔진이 코드를 실행하는 방식을 이해하는데 중요한 개념이다. 실행 컨텍스트는 전역 컨텍스트, 함수 컨텍스트, eval 컨텍스트 등 여러 종류가 있으며, 이들이 실행 스택(Stack)에 쌇이며 코드가 실행된다.

1. 변수 환경(Variable Environment): 현재 컨텍스트 내의 식별자(변수)와 그에 대한 정보(선언 위치, 초기화 상태, 값 등)를 담고 있는 구성 요소이다. let, const 키워드로 선언된 변수가 이 영역에 속한다.

2. 외부 환경 참조(Outer Environment Reference): 현재 컨텍스트가 참조하는 외부(부모) 컨텍스트를 가리킨다. 이를 통해 스코프 체인이 형성되고, 변수를 검색할 때 현재 컨텍스트에서 찾지 못하면 외부 환경 참조를 따라 상위 컨텍스트의 변수 환경을 검색한다.

3. this 바인딩: 실행 컨텍스트가 활성화될 때 this 값이 결전된다. 함수 호출 방식(일반 함수 호출, 메서드 호출, 생성자 함수 호출 등)에 따라 this가 가리키는 대상이 달라진다.

#### 실행 컨텍스트의 생성 및 실행 과정

Javascript 엔진이 코드를 실행할 때 다음 단계를 거친다.

1. 전역 실행 컨텍스트 생성: 스크립트 로딩 시 가장 먼저 생성된다. 전역 변수와 함수 등이 이 컨텍스트에 포함된다. 전역 컨텍스트는 애플리케이션의 생명주기 동안 유지된다.
2. 함수 실행 컨텍스트 생성: 함수가 호출될 때마다 해당 함수만의 실행 컨텍스트가 생성된다. 이 컨텍스트는 함수 내부의 변수, 매개변수, this 바인딩 등을 포함한다.
3. 실행 스택 관리: 실행 컨텍스트는 호출 스택이라고 하는 실행 스택에 푸쉬된다. 함수 호출은 스택에 새로운 실행 컨텍스트를 푸쉬하고 함수가 종료되면 해당 컨텍스트를 스택에서 팝한다. 이 스택에 최상단에 있는 실행 컨텍스트가 현재 실행 중인 컨텍스트이다. 

#### 스코프 체인

실행 컨텍스트의 외부 환경 참조를 통해 형성되는 스코프 체인은 변수를 검색때 사용된다. 현재 컨텍스트에서 변수를 찾지 못하면 스코프 체인에 따라 상위 컨텍스트 변수 환경을 차례대로 검색한다. 